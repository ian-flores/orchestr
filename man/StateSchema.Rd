% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/state.R
\name{StateSchema}
\alias{StateSchema}
\title{StateSchema R6 Class}
\description{
StateSchema R6 Class

StateSchema R6 Class
}
\details{
Defines typed fields with optional reducers for graph state management.
Use the \code{\link[=state_schema]{state_schema()}} constructor function.
}
\keyword{internal}
\section{Active bindings}{
\if{html}{\out{<div class="r6-active-bindings">}}
\describe{
\item{\code{max_append}}{Maximum number of items to keep for append reducers
(read-only).}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-StateSchema-new}{\code{StateSchema$new()}}
\item \href{#method-StateSchema-validate}{\code{StateSchema$validate()}}
\item \href{#method-StateSchema-merge}{\code{StateSchema$merge()}}
\item \href{#method-StateSchema-field_names}{\code{StateSchema$field_names()}}
\item \href{#method-StateSchema-clone}{\code{StateSchema$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-StateSchema-new"></a>}}
\if{latex}{\out{\hypertarget{method-StateSchema-new}{}}}
\subsection{Method \code{new()}}{
Create a new StateSchema
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{StateSchema$new(..., .max_append = Inf)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{...}}{Named type specifications. Each value is a string like
\code{"append:list"}, \code{"any"}, \code{"logical"}, \code{"numeric"}, \code{"character"},
\code{"list"}, \code{"data.frame"}, or \code{"integer"}.
The \code{"append:list"} form uses an append reducer for lists.}

\item{\code{.max_append}}{Maximum number of items to retain for append
reducers. Defaults to \code{Inf} (no limit). When the limit is exceeded,
the most recent items are kept.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-StateSchema-validate"></a>}}
\if{latex}{\out{\hypertarget{method-StateSchema-validate}{}}}
\subsection{Method \code{validate()}}{
Validate a set of updates against the schema
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{StateSchema$validate(updates)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{updates}}{Named list of values to validate}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Invisible TRUE if valid; aborts on error
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-StateSchema-merge"></a>}}
\if{latex}{\out{\hypertarget{method-StateSchema-merge}{}}}
\subsection{Method \code{merge()}}{
Merge updates into current state using reducers
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{StateSchema$merge(current, updates)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{current}}{Named list representing current state}

\item{\code{updates}}{Named list of updates}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Merged state as a named list
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-StateSchema-field_names"></a>}}
\if{latex}{\out{\hypertarget{method-StateSchema-field_names}{}}}
\subsection{Method \code{field_names()}}{
Get field names defined in this schema
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{StateSchema$field_names()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
Character vector of field names
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-StateSchema-clone"></a>}}
\if{latex}{\out{\hypertarget{method-StateSchema-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{StateSchema$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
