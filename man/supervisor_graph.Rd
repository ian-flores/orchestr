% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/convenience.R
\name{supervisor_graph}
\alias{supervisor_graph}
\title{Create a supervisor graph that routes to workers}
\usage{
supervisor_graph(supervisor, workers, max_iterations = 50L)
}
\arguments{
\item{supervisor}{An \code{Agent} object that decides routing. A system prompt
suffix and a \code{route} tool are automatically injected.}

\item{workers}{Named list of \code{Agent} objects.}

\item{max_iterations}{Integer safety cap (default 50).}
}
\value{
A compiled \code{AgentGraph} object.
}
\description{
The supervisor agent decides which worker to invoke based on its response.
Each worker's response is fed back to the supervisor for re-evaluation.
}
\details{
The supervisor node sets \code{state$next_worker} via a routing tool that the
supervisor calls. The routing condition reads this field to dispatch to the
correct worker, or end the graph if the supervisor calls \code{route("FINISH")}.
}
\examples{
\dontrun{
sup <- agent("boss", ellmer::chat_openai(model = "gpt-4o"))
w1 <- agent("coder", ellmer::chat_openai(model = "gpt-4o"))
w2 <- agent("tester", ellmer::chat_openai(model = "gpt-4o"))
graph <- supervisor_graph(sup, list(coder = w1, tester = w2))
}
}
\seealso{
Other convenience: 
\code{\link{pipeline_graph}()},
\code{\link{react_graph}()}
}
\concept{convenience}
