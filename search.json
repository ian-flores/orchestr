[{"path":[]},{"path":"https://ian-flores.github.io/orchestr/CLAUDE.html","id":"what-this-is","dir":"","previous_headings":"","what":"What This Is","title":"orchestr – Development Guide","text":"R package graph-based multi-agent workflow orchestration. Built ellmer LLM chat optionally securer sandboxed code execution.","code":""},{"path":"https://ian-flores.github.io/orchestr/CLAUDE.html","id":"architecture","dir":"","previous_headings":"","what":"Architecture","title":"orchestr – Development Guide","text":"","code":"Agent (R6)           -- wraps ellmer::Chat + optional securer GraphBuilder (R6)    -- fluent API for constructing graphs AgentGraph (R6)      -- compiled, runnable graph with event loop StateSchema (R6)     -- typed state with reducers Memory (R6)          -- key-value store (local + file backends) Checkpointer (R6)    -- workflow state persistence"},{"path":"https://ian-flores.github.io/orchestr/CLAUDE.html","id":"key-files","dir":"","previous_headings":"","what":"Key Files","title":"orchestr – Development Guide","text":"R/agent.R – Agent R6 class R/graph-builder.R – GraphBuilder fluent API R/agent-graph.R – AgentGraph execution engine R/state.R – StateSchema + state_snapshot S3 class R/memory.R – Memory R6 (local + file) R/checkpointer.R – Checkpointer R6 (memory + file) R/node-helpers.R – as_node(), tool_node(), route_tool_calls() R/convenience.R – react_graph(), pipeline_graph(), supervisor_graph() R/interrupt.R – interrupt conditions, approval_tool() R/visualize.R – as_mermaid() graph rendering","code":""},{"path":"https://ian-flores.github.io/orchestr/CLAUDE.html","id":"development-commands","dir":"","previous_headings":"","what":"Development Commands","title":"orchestr – Development Guide","text":"","code":"Rscript -e \"devtools::test('.')\" Rscript -e \"devtools::check('.')\" Rscript -e \"devtools::document('.')\" Rscript -e \"devtools::load_all('.')\""},{"path":"https://ian-flores.github.io/orchestr/CLAUDE.html","id":"design-principles","dir":"","previous_headings":"","what":"Design Principles","title":"orchestr – Development Guide","text":"ellmer Imports; securer Suggests tests use mocked ellmer Chat (real API calls) Graph execution max_iterations safety cap State merging uses reducers (append lists, overwrite scalars) END sentinel = “end” string constant","code":""},{"path":"https://ian-flores.github.io/orchestr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 Ian Flores Siaca Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ian-flores.github.io/orchestr/articles/multi-agent.html","id":"pipeline-pattern","dir":"Articles","previous_headings":"","what":"Pipeline Pattern","title":"Multi-Agent Workflows","text":"pipeline passes state sequence agents, transforming handing next. Use pipeline_graph() concise setup, graph_builder() full control.","code":""},{"path":"https://ian-flores.github.io/orchestr/articles/multi-agent.html","id":"using-pipeline_graph","dir":"Articles","previous_headings":"Pipeline Pattern","what":"Using pipeline_graph()","title":"Multi-Agent Workflows","text":"","code":"library(orchestr) library(ellmer)  drafter <- agent(\"drafter\", chat = chat_anthropic(   system_prompt = \"Write a short draft on the given topic.\" ))  editor <- agent(\"editor\", chat = chat_anthropic(   system_prompt = \"Improve the following draft. Fix grammar and clarity.\" ))  pipeline <- pipeline_graph(drafter, editor)  result <- pipeline$invoke(list(   messages = list(\"Write about the benefits of open source software.\") )) cat(result$messages[[length(result$messages)]])"},{"path":"https://ian-flores.github.io/orchestr/articles/multi-agent.html","id":"data-analysis-pipeline","dir":"Articles","previous_headings":"Pipeline Pattern","what":"Data Analysis Pipeline","title":"Multi-Agent Workflows","text":"realistic pipeline profiles data, analyzes patterns, produces report:","code":"profiler <- agent(\"profiler\", chat = chat_anthropic(   system_prompt = \"Profile datasets: describe columns, types, missing values, distributions.\" ))  analyst <- agent(\"analyst\", chat = chat_anthropic(   system_prompt = \"Given a data profile, identify patterns, correlations, and anomalies.\" ))  reporter <- agent(\"reporter\", chat = chat_anthropic(   system_prompt = \"Write a clear, non-technical summary of analytical findings.\" ))  graph <- pipeline_graph(profiler, analyst, reporter) result <- graph$invoke(list(messages = list(   \"Analyze the mtcars dataset focusing on fuel efficiency factors.\" )))"},{"path":"https://ian-flores.github.io/orchestr/articles/multi-agent.html","id":"using-graph_builder-directly","dir":"Articles","previous_headings":"Pipeline Pattern","what":"Using graph_builder() Directly","title":"Multi-Agent Workflows","text":"control (e.g., adding conditional edges), use builder API:","code":"drafter <- agent(\"drafter\", chat = chat_anthropic(   system_prompt = \"Write a short draft on the given topic.\" ))  editor <- agent(\"editor\", chat = chat_anthropic(   system_prompt = \"Improve the following draft. Fix grammar and clarity.\" ))  g <- graph_builder() g$add_node(\"draft\", drafter) g$add_node(\"edit\", editor) g$add_edge(\"draft\", \"edit\") g$add_edge(\"edit\", END) g$set_entry_point(\"draft\")  pipeline <- g$compile(verbose = TRUE)  result <- pipeline$invoke(list(   messages = list(\"Write about functional programming in R.\") )) cat(result$messages[[length(result$messages)]])"},{"path":"https://ian-flores.github.io/orchestr/articles/multi-agent.html","id":"supervisor-pattern","dir":"Articles","previous_headings":"","what":"Supervisor Pattern","title":"Multi-Agent Workflows","text":"supervisor agent routes tasks specialized workers based content request. Use supervisor_graph() concise setup. supervisor automatically receives route tool calls dispatch workers finish. Start low max_iterations values control costs – iteration involves LLM call supervisor plus selected worker.","code":"supervisor <- agent(\"supervisor\", chat = chat_anthropic(   system_prompt = \"You coordinate workers to solve tasks.\" ))  math_worker <- agent(\"math\", chat = chat_anthropic(   system_prompt = \"You are a math expert. Solve math problems step by step.\" ))  writing_worker <- agent(\"writing\", chat = chat_anthropic(   system_prompt = \"You are a writing expert. Help with writing tasks.\" ))  graph <- supervisor_graph(   supervisor = supervisor,   workers = list(math = math_worker, writing = writing_worker),   max_iterations = 10 )  # Route to math result <- graph$invoke(list(   messages = list(\"Calculate the integral of x^2 from 0 to 1.\") ))"},{"path":"https://ian-flores.github.io/orchestr/articles/multi-agent.html","id":"streaming-state-snapshots","dir":"Articles","previous_headings":"","what":"Streaming State Snapshots","title":"Multi-Agent Workflows","text":"Use $stream() collect state snapshots step, useful debugging building progress indicators.","code":"pipeline <- pipeline_graph(   agent(\"drafter\", chat = chat_anthropic(     system_prompt = \"Write a short draft on the given topic.\"   )),   agent(\"editor\", chat = chat_anthropic(     system_prompt = \"Improve the following draft.\"   )) )  snapshots <- pipeline$stream(list(   messages = list(\"Write about functional programming in R.\") ))  for (snap in snapshots) {   cat(sprintf(\"Step %d, node: %s\\n\", snap$step, snap$node)) }"},{"path":"https://ian-flores.github.io/orchestr/articles/multi-agent.html","id":"visualizing-the-graph","dir":"Articles","previous_headings":"","what":"Visualizing the Graph","title":"Multi-Agent Workflows","text":"Generate Mermaid diagram visualize graph structure.","code":"supervisor <- agent(\"supervisor\", chat = chat_anthropic(   system_prompt = \"You coordinate workers.\" )) math_worker <- agent(\"math\", chat = chat_anthropic(   system_prompt = \"Math expert.\" )) writing_worker <- agent(\"writing\", chat = chat_anthropic(   system_prompt = \"Writing expert.\" ))  graph <- supervisor_graph(   supervisor = supervisor,   workers = list(math = math_worker, writing = writing_worker) )  cat(as_mermaid(graph)) # Output: # graph TD #     supervisor[supervisor] #     math[math] #     writing[writing] #     supervisor -->|math| math #     supervisor -->|writing| writing #     math --> supervisor #     writing --> supervisor"},{"path":"https://ian-flores.github.io/orchestr/articles/quickstart.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with orchestr","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"ian-flores/orchestr\")"},{"path":"https://ian-flores.github.io/orchestr/articles/quickstart.html","id":"api-key-setup","dir":"Articles","previous_headings":"","what":"API Key Setup","title":"Getting Started with orchestr","text":"orchestr uses ellmer LLM access. Set provider’s API key running examples: See ellmer’s documentation supported providers.","code":"# For Anthropic (Claude) Sys.setenv(ANTHROPIC_API_KEY = \"your-key-here\")  # For OpenAI Sys.setenv(OPENAI_API_KEY = \"your-key-here\")"},{"path":"https://ian-flores.github.io/orchestr/articles/quickstart.html","id":"your-first-agent","dir":"Articles","previous_headings":"","what":"Your First Agent","title":"Getting Started with orchestr","text":"Agent wraps ellmer Chat object. agent() constructor recommended way create one.","code":"library(orchestr) library(ellmer)  analyst <- agent(\"analyst\", chat = chat_anthropic(   system_prompt = \"You are a data analyst. Analyze data and provide insights.\" ))  # Single-turn conversation response <- analyst$invoke(\"Describe the key features of the iris dataset.\") cat(response)"},{"path":"https://ian-flores.github.io/orchestr/articles/quickstart.html","id":"adding-tools","dir":"Articles","previous_headings":"","what":"Adding Tools","title":"Getting Started with orchestr","text":"Agents become powerful give tools. ellmer’s Chat class handles tool call loops internally – agent registered tools, executed automatically $chat().","code":"summary_tool <- tool(   function(dataset_name) {     data <- get(dataset_name, envir = asNamespace(\"datasets\"))     paste(capture.output(summary(data)), collapse = \"\\n\")   },   \"Get a summary of a built-in R dataset.\",   arguments = list(     dataset_name = type_string(\"Name of a dataset in the datasets package\")   ) )  analyst <- agent(\"analyst\",   chat = chat_anthropic(     system_prompt = \"You are a data analyst. Use your tools to examine data.\"   ),   tools = list(summary_tool) )  response <- analyst$invoke(\"Summarize the mtcars dataset.\") cat(response)"},{"path":"https://ian-flores.github.io/orchestr/articles/quickstart.html","id":"single-agent-graph-with-react_graph","dir":"Articles","previous_headings":"","what":"Single-Agent Graph with react_graph()","title":"Getting Started with orchestr","text":"react_graph() function wraps single agent state management checkpointing. simplest way run agent inside graph. Use verbose = TRUE compiling see execution flow. convenience functions, pass verbose $invoke():","code":"analyst <- agent(\"analyst\", chat = chat_anthropic(   system_prompt = \"You are a data analyst. Analyze data and provide insights.\" ))  graph <- react_graph(analyst) result <- graph$invoke(list(messages = list(   \"What are the key relationships in the mtcars dataset?\" ))) result <- graph$invoke(   list(messages = list(\"Describe the distribution of mpg in mtcars.\")),   verbose = TRUE )"},{"path":"https://ian-flores.github.io/orchestr/articles/quickstart.html","id":"agent-pipeline-with-pipeline_graph","dir":"Articles","previous_headings":"","what":"Agent Pipeline with pipeline_graph()","title":"Getting Started with orchestr","text":"Chain multiple agents sequence. agent processes state passes next. One LLM call per agent.","code":"profiler <- agent(\"profiler\", chat = chat_anthropic(   system_prompt = \"Profile datasets: describe columns, types, missing values, distributions.\" ))  analyst <- agent(\"analyst\", chat = chat_anthropic(   system_prompt = \"Given a data profile, identify patterns, correlations, and anomalies.\" ))  pipeline <- pipeline_graph(profiler, analyst) result <- pipeline$invoke(list(messages = list(   \"Analyze the mtcars dataset focusing on fuel efficiency factors.\" )))"},{"path":"https://ian-flores.github.io/orchestr/articles/quickstart.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with orchestr","text":"Multi-Agent Workflows – pipelines, supervisor routing, visualization Secure Execution – sandboxed code execution securer","code":""},{"path":"https://ian-flores.github.io/orchestr/articles/securer.html","id":"why-sandboxed-execution","dir":"Articles","previous_headings":"","what":"Why Sandboxed Execution?","title":"Secure Execution with securer","text":"LLM agents generate execute R code, need guardrails. securer package provides OS-level sandboxing generated code access filesystem, network, system resources beyond explicitly allow. orchestr integrates securer secure = TRUE flag agent().","code":""},{"path":"https://ian-flores.github.io/orchestr/articles/securer.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Secure Execution with securer","text":"","code":"# Install both packages remotes::install_github(\"ian-flores/securer\") remotes::install_github(\"ian-flores/orchestr\")"},{"path":"https://ian-flores.github.io/orchestr/articles/securer.html","id":"creating-a-secure-agent","dir":"Articles","previous_headings":"","what":"Creating a Secure Agent","title":"Secure Execution with securer","text":"","code":"library(orchestr) library(ellmer) library(securer)  # Define a tool that runs R code in a sandbox code_tool <- securer_tool(   name = \"run_code\",   description = \"Execute R code in a sandboxed environment.\",   args = list(code = \"character\"),   handler = function(code) {     eval(parse(text = code))   } )  # Create an agent with sandboxed execution secure_agent <- agent(\"code-runner\",   chat = chat_anthropic(     system_prompt = paste(       \"You are a data analysis assistant.\",       \"Use the run_code tool to execute R code.\",       \"Always show your work.\"     )   ),   tools = list(code_tool),   secure = TRUE,   sandbox = TRUE )  # The agent can now safely execute LLM-generated code result <- secure_agent$invoke(\"Calculate the mean of c(1, 5, 3, 7, 2) in R.\") cat(result)  # Always close when done to clean up the securer session secure_agent$close()"},{"path":"https://ian-flores.github.io/orchestr/articles/securer.html","id":"what-the-sandbox-restricts","dir":"Articles","previous_headings":"","what":"What the Sandbox Restricts","title":"Secure Execution with securer","text":"sandbox = TRUE, child R process runs inside OS sandbox: macOS: Seatbelt profile via sandbox-exec. Blocks filesystem writes outside temp, network access, process spawning. Linux: Bubblewrap (bwrap) namespace isolation. Blocks filesystem, network, IPC outside sandbox. Windows: Environment isolation (clean HOME, TMPDIR, R_LIBS_USER). filesystem network restrictions without admin privileges.","code":""},{"path":"https://ian-flores.github.io/orchestr/articles/securer.html","id":"mixing-secure-and-regular-tools","dir":"Articles","previous_headings":"","what":"Mixing Secure and Regular Tools","title":"Secure Execution with securer","text":"can combine securer tools (run sandbox) regular ellmer tools (run parent process).","code":"# Regular tool -- runs in the parent process, no sandbox weather_tool <- tool(   function(city) paste0(\"Weather in \", city, \": sunny, 22C.\"),   \"Get weather for a city.\",   arguments = list(city = type_string(\"City name\")) )  # Securer tool -- runs in the sandboxed child process calc_tool <- securer_tool(   name = \"calculate\",   description = \"Run a calculation in R.\",   args = list(expr = \"character\"),   handler = function(expr) eval(parse(text = expr)) )  hybrid_agent <- agent(\"hybrid\",   chat = chat_anthropic(     system_prompt = \"You can check weather and do calculations.\"   ),   tools = list(weather_tool, calc_tool),   secure = TRUE )  # The weather tool runs in-process; the calculate tool runs sandboxed result <- hybrid_agent$invoke(\"What is 2^10? Also, what's the weather in London?\") hybrid_agent$close()"},{"path":"https://ian-flores.github.io/orchestr/articles/securer.html","id":"using-secure-agents-in-graphs","dir":"Articles","previous_headings":"","what":"Using Secure Agents in Graphs","title":"Secure Execution with securer","text":"Secure agents work regular agents inside graph. can also use pipeline_graph() supervisor_graph() secure agents. Use verbose = TRUE compile() $invoke() trace execution flow:","code":"analyst <- agent(\"analyst\",   chat = chat_anthropic(     system_prompt = \"You are a data analyst. Use run_code to compute answers.\"   ),   tools = list(code_tool),   secure = TRUE )  graph <- react_graph(analyst) result <- graph$invoke(list(   messages = list(\"What is the standard deviation of c(10, 20, 30, 40, 50)?\") ))  analyst$close() result <- graph$invoke(   list(messages = list(\"Compute the correlation between mpg and wt in mtcars.\")),   verbose = TRUE )"},{"path":"https://ian-flores.github.io/orchestr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ian Flores Siaca. Author, maintainer.","code":""},{"path":"https://ian-flores.github.io/orchestr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Flores Siaca (2026). orchestr: Graph-Based Agent Orchestration R. R package version 0.1.0, https://github.com/ian-flores/orchestr.","code":"@Manual{,   title = {orchestr: Graph-Based Agent Orchestration for R},   author = {Ian {Flores Siaca}},   year = {2026},   note = {R package version 0.1.0},   url = {https://github.com/ian-flores/orchestr}, }"},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"orchestr","dir":"","previous_headings":"","what":"Graph-Based Agent Orchestration for R","title":"Graph-Based Agent Orchestration for R","text":"[!CAUTION] Alpha software. package part broader effort Ian Flores Siaca develop proper AI infrastructure R ecosystem. active development used production official release published. APIs may change without notice. Graph-based multi-agent workflow orchestration R. Built ellmer LLM chat optionally securer sandboxed code execution.","code":""},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Graph-Based Agent Orchestration for R","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"ian-flores/orchestr\")"},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"setup","dir":"","previous_headings":"","what":"Setup","title":"Graph-Based Agent Orchestration for R","text":"orchestr uses ellmer LLM access. ’ll need API key chosen provider: See ellmer’s documentation supported providers.","code":"# For Anthropic (Claude) Sys.setenv(ANTHROPIC_API_KEY = \"your-key-here\")  # For OpenAI Sys.setenv(OPENAI_API_KEY = \"your-key-here\")"},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Graph-Based Agent Orchestration for R","text":"Agent – wraps ellmer Chat tools optional secure execution GraphBuilder – fluent API constructing agent graphs typed state Conditional routing – route agents based state Human---loop – interrupt graph execution human approval State management – typed state schemas reducers, snapshots Memory & checkpointing – persist state across invocations Visualization – render graphs Mermaid diagrams","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"single-agent-react","dir":"","previous_headings":"Quick Start","what":"Single Agent (ReAct)","title":"Graph-Based Agent Orchestration for R","text":"react_graph() function wraps single agent state management checkpointing. ellmer’s Chat class handles tool call loops internally – agent registered tools, executed automatically $chat(). graph wraps state management checkpointing.","code":"library(orchestr) library(ellmer)  analyst <- agent(\"analyst\", chat = chat_anthropic(   system_prompt = \"You analyze data. Use your tools to compute results.\" )) graph <- react_graph(analyst, max_iterations = 5) result <- graph$invoke(list(messages = list(\"What is the mean of c(1,2,3,4,5)?\")))"},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"agent-pipeline","dir":"","previous_headings":"Quick Start","what":"Agent Pipeline","title":"Graph-Based Agent Orchestration for R","text":"pipeline_graph() chains agents sequence. agent processes state passes next. One LLM call per agent pipeline.","code":"drafter <- agent(\"drafter\", chat = chat_anthropic(   system_prompt = \"Write a short draft on the given topic.\" ))  editor <- agent(\"editor\", chat = chat_anthropic(   system_prompt = \"Improve the following draft.\" ))  pipeline <- pipeline_graph(drafter, editor) result <- pipeline$invoke(list(messages = list(\"Benefits of open source.\")))"},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"supervisor-routing","dir":"","previous_headings":"Quick Start","what":"Supervisor Routing","title":"Graph-Based Agent Orchestration for R","text":"supervisor_graph() creates supervisor routes tasks specialized workers. supervisor decides worker invoke (finish) calling automatically injected route tool.","code":"supervisor <- agent(\"supervisor\", chat = chat_anthropic(   system_prompt = \"You coordinate workers to solve tasks.\" ))  math_worker <- agent(\"math\", chat = chat_anthropic(   system_prompt = \"You are a math expert. Solve math problems step by step.\" ))  writing_worker <- agent(\"writing\", chat = chat_anthropic(   system_prompt = \"You are a writing expert. Help with writing tasks.\" ))  graph <- supervisor_graph(   supervisor = supervisor,   workers = list(math = math_worker, writing = writing_worker),   max_iterations = 10 ) result <- graph$invoke(list(messages = list(\"Calculate the integral of x^2 from 0 to 1.\")))"},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"cost-awareness","dir":"","previous_headings":"","what":"Cost Awareness","title":"Graph-Based Agent Orchestration for R","text":"node graph calls LLM makes API request. mindful costs: react_graph(): agent runs , ellmer handling tool calls internally pipeline_graph(): One LLM call per agent pipeline supervisor_graph(max_iterations = 50): 50+ LLM calls (supervisor routing + worker execution). Start low max_iterations values Use verbose = TRUE compiling graphs see execution flow: compile(verbose = TRUE)","code":""},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Graph-Based Agent Orchestration for R","text":"Getting Started Multi-Agent Workflows Secure Execution","code":""},{"path":"https://ian-flores.github.io/orchestr/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Graph-Based Agent Orchestration for R","text":"MIT","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/Agent.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an Agent — agent","title":"Create an Agent — agent","text":"Preferred constructor creating Agent objects. Wraps Agent R6 class.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/Agent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an Agent — agent","text":"","code":"agent(   name,   chat,   tools = list(),   system_prompt = NULL,   secure = FALSE,   sandbox = TRUE,   memory = NULL )"},{"path":"https://ian-flores.github.io/orchestr/reference/Agent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an Agent — agent","text":"name Character string identifying agent. chat ellmer::Chat object. tools List tool objects. system_prompt Optional system prompt override. secure Logical; use securer sandbox. sandbox Logical; enable OS sandbox secure TRUE. memory Optional Memory object.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/Agent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an Agent — agent","text":"Agent R6 object.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/Agent.html","id":"chat-protocol","dir":"Reference","previous_headings":"","what":"Chat Protocol","title":"Create an Agent — agent","text":"chat object must implement methods: $chat(prompt) - Send message return response text $get_turns() - Return conversation history $set_turns(turns) - Replace conversation history $clone(deep = TRUE) - Deep clone chat object","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/Agent.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an Agent — agent","text":"","code":"if (FALSE) { # \\dontrun{ chat <- ellmer::chat_openai(model = \"gpt-4o\") a <- agent(\"researcher\", chat) a$invoke(\"What is R?\") } # }"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":null,"dir":"Reference","previous_headings":"","what":"AgentGraph R6 Class — AgentGraph","title":"AgentGraph R6 Class — AgentGraph","text":"AgentGraph R6 Class AgentGraph R6 Class","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"AgentGraph R6 Class — AgentGraph","text":"Compiled, immutable, runnable agent graph. Created GraphBuilder$compile(), directly.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"AgentGraph R6 Class — AgentGraph","text":"AgentGraph$new() AgentGraph$invoke() AgentGraph$stream() AgentGraph$as_mermaid() AgentGraph$get_nodes() AgentGraph$get_edges() AgentGraph$print() AgentGraph$format() AgentGraph$clone()","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"AgentGraph R6 Class — AgentGraph","text":"Create compiled agent graph. intended direct use; create via GraphBuilder$compile().","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"AgentGraph R6 Class — AgentGraph","text":"","code":"AgentGraph$new(   nodes,   edges,   conditional_edges,   entry,   schema,   interrupt_before,   interrupt_after,   checkpointer,   max_iterations,   verbose = FALSE )"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"AgentGraph R6 Class — AgentGraph","text":"nodes Named list handler functions/Agents edges List fixed edge specs conditional_edges List conditional edge specs entry Character entry point node name schema Optional StateSchema interrupt_before Character vector node names interrupt_after Character vector node names checkpointer Optional Checkpointer max_iterations Integer safety cap verbose Logical; TRUE, log node entry/exit timing, routing decisions, iteration count via cli::cli_inform().","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"method-invoke-","dir":"Reference","previous_headings":"","what":"Method invoke()","title":"AgentGraph R6 Class — AgentGraph","text":"Run graph completion","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"AgentGraph R6 Class — AgentGraph","text":"","code":"AgentGraph$invoke(state = list(), config = list(), verbose = private$.verbose)"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"AgentGraph R6 Class — AgentGraph","text":"state Named list initial state config Named list configuration (e.g., thread_id, resume_from) verbose Logical; TRUE, log execution details. Overrides graph-level default set compile time.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"AgentGraph R6 Class — AgentGraph","text":"Final state named list","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"method-stream-","dir":"Reference","previous_headings":"","what":"Method stream()","title":"AgentGraph R6 Class — AgentGraph","text":"Run graph collect state snapshots","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"AgentGraph R6 Class — AgentGraph","text":"","code":"AgentGraph$stream(   state = list(),   config = list(),   on_step = NULL,   verbose = private$.verbose )"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"AgentGraph R6 Class — AgentGraph","text":"state Named list initial state config Named list configuration on_step Optional callback function called node snapshot sole argument. Useful real-time progress reporting. verbose Logical; TRUE, log execution details. Overrides graph-level default set compile time.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"AgentGraph R6 Class — AgentGraph","text":"List state_snapshot objects","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"method-as-mermaid-","dir":"Reference","previous_headings":"","what":"Method as_mermaid()","title":"AgentGraph R6 Class — AgentGraph","text":"Generate Mermaid diagram graph","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"AgentGraph R6 Class — AgentGraph","text":"","code":"AgentGraph$as_mermaid()"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"AgentGraph R6 Class — AgentGraph","text":"Character string Mermaid markup","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"method-get-nodes-","dir":"Reference","previous_headings":"","what":"Method get_nodes()","title":"AgentGraph R6 Class — AgentGraph","text":"Get node names","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"AgentGraph R6 Class — AgentGraph","text":"","code":"AgentGraph$get_nodes()"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"AgentGraph R6 Class — AgentGraph","text":"Character vector","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"method-get-edges-","dir":"Reference","previous_headings":"","what":"Method get_edges()","title":"AgentGraph R6 Class — AgentGraph","text":"Get edge specifications","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"AgentGraph R6 Class — AgentGraph","text":"","code":"AgentGraph$get_edges()"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"AgentGraph R6 Class — AgentGraph","text":"List edge specs (fixed conditional)","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"AgentGraph R6 Class — AgentGraph","text":"Print method","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"AgentGraph R6 Class — AgentGraph","text":"","code":"AgentGraph$print(...)"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"AgentGraph R6 Class — AgentGraph","text":"... Ignored.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"method-format-","dir":"Reference","previous_headings":"","what":"Method format()","title":"AgentGraph R6 Class — AgentGraph","text":"Format method","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"AgentGraph R6 Class — AgentGraph","text":"","code":"AgentGraph$format(...)"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"AgentGraph R6 Class — AgentGraph","text":"... Ignored.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"AgentGraph R6 Class — AgentGraph","text":"objects class cloneable method.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"AgentGraph R6 Class — AgentGraph","text":"","code":"AgentGraph$clone(deep = FALSE)"},{"path":"https://ian-flores.github.io/orchestr/reference/AgentGraph.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"AgentGraph R6 Class — AgentGraph","text":"deep Whether make deep clone.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/END.html","id":null,"dir":"Reference","previous_headings":"","what":"End sentinel for graph execution — END","title":"End sentinel for graph execution — END","text":"Use END target node name indicate graph execution stop current node.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/END.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"End sentinel for graph execution — END","text":"","code":"END"},{"path":"https://ian-flores.github.io/orchestr/reference/END.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"End sentinel for graph execution — END","text":"object class character length 1.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":null,"dir":"Reference","previous_headings":"","what":"GraphBuilder R6 Class — GraphBuilder","title":"GraphBuilder R6 Class — GraphBuilder","text":"GraphBuilder R6 Class GraphBuilder R6 Class","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"GraphBuilder R6 Class — GraphBuilder","text":"Fluent API constructing agent workflow graphs. Use graph_builder() constructor function.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"GraphBuilder R6 Class — GraphBuilder","text":"GraphBuilder$new() GraphBuilder$add_node() GraphBuilder$add_edge() GraphBuilder$add_conditional_edge() GraphBuilder$set_entry_point() GraphBuilder$set_interrupt() GraphBuilder$set_checkpointer() GraphBuilder$compile() GraphBuilder$print() GraphBuilder$clone()","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"GraphBuilder R6 Class — GraphBuilder","text":"Create new GraphBuilder","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$new(state_schema = NULL)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"state_schema Optional StateSchema typed state reducers.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-add-node-","dir":"Reference","previous_headings":"","what":"Method add_node()","title":"GraphBuilder R6 Class — GraphBuilder","text":"Add node graph","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$add_node(name, handler)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"name Character node name handler Function(state, config) Agent object","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"GraphBuilder R6 Class — GraphBuilder","text":"Self (chaining)","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-add-edge-","dir":"Reference","previous_headings":"","what":"Method add_edge()","title":"GraphBuilder R6 Class — GraphBuilder","text":"Add fixed edge nodes","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$add_edge(from, to)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"Source node name Target node name (END)","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"GraphBuilder R6 Class — GraphBuilder","text":"Self (chaining)","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-add-conditional-edge-","dir":"Reference","previous_headings":"","what":"Method add_conditional_edge()","title":"GraphBuilder R6 Class — GraphBuilder","text":"Add conditional edge","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$add_conditional_edge(from, condition, mapping)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"Source node name condition Function(state) returning character key mapping Named list mapping condition keys node names","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"GraphBuilder R6 Class — GraphBuilder","text":"Self (chaining)","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-set-entry-point-","dir":"Reference","previous_headings":"","what":"Method set_entry_point()","title":"GraphBuilder R6 Class — GraphBuilder","text":"Set entry point node","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$set_entry_point(name)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"name Node name start execution ","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"GraphBuilder R6 Class — GraphBuilder","text":"Self (chaining)","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-set-interrupt-","dir":"Reference","previous_headings":"","what":"Method set_interrupt()","title":"GraphBuilder R6 Class — GraphBuilder","text":"Set interrupt gate nodes human---loop","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$set_interrupt(before = NULL, after = NULL)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"Character vector node names interrupt Character vector node names interrupt ","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"GraphBuilder R6 Class — GraphBuilder","text":"Self (chaining)","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-set-checkpointer-","dir":"Reference","previous_headings":"","what":"Method set_checkpointer()","title":"GraphBuilder R6 Class — GraphBuilder","text":"Attach checkpointer state persistence","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$set_checkpointer(checkpointer)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"checkpointer Checkpointer object","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"GraphBuilder R6 Class — GraphBuilder","text":"Self (chaining)","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-compile-","dir":"Reference","previous_headings":"","what":"Method compile()","title":"GraphBuilder R6 Class — GraphBuilder","text":"Compile graph runnable AgentGraph","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$compile(max_iterations = 100L, verbose = FALSE)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"max_iterations Integer safety cap loop iterations verbose Logical; TRUE, log node execution routing via cli::cli_inform().","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"GraphBuilder R6 Class — GraphBuilder","text":"AgentGraph object","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"GraphBuilder R6 Class — GraphBuilder","text":"Print builder","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$print(...)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"... Ignored.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"GraphBuilder R6 Class — GraphBuilder","text":"objects class cloneable method.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"GraphBuilder R6 Class — GraphBuilder","text":"","code":"GraphBuilder$clone(deep = FALSE)"},{"path":"https://ian-flores.github.io/orchestr/reference/GraphBuilder.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"GraphBuilder R6 Class — GraphBuilder","text":"deep Whether make deep clone.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":null,"dir":"Reference","previous_headings":"","what":"StateSchema R6 Class — StateSchema","title":"StateSchema R6 Class — StateSchema","text":"StateSchema R6 Class StateSchema R6 Class","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"StateSchema R6 Class — StateSchema","text":"Defines typed fields optional reducers graph state management. Use state_schema() constructor function.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"StateSchema R6 Class — StateSchema","text":"max_append Maximum number items keep append reducers (read-).","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"StateSchema R6 Class — StateSchema","text":"StateSchema$new() StateSchema$validate() StateSchema$merge() StateSchema$field_names() StateSchema$clone()","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"StateSchema R6 Class — StateSchema","text":"Create new StateSchema","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"StateSchema R6 Class — StateSchema","text":"","code":"StateSchema$new(..., .max_append = Inf)"},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"StateSchema R6 Class — StateSchema","text":"... Named type specifications. value string like \"append:list\", \"\", \"logical\", \"numeric\", \"character\", \"list\", \"data.frame\", \"integer\". \"append:list\" form uses append reducer lists. .max_append Maximum number items retain append reducers. Defaults Inf (limit). limit exceeded, recent items kept.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"method-validate-","dir":"Reference","previous_headings":"","what":"Method validate()","title":"StateSchema R6 Class — StateSchema","text":"Validate set updates schema","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"StateSchema R6 Class — StateSchema","text":"","code":"StateSchema$validate(updates)"},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"StateSchema R6 Class — StateSchema","text":"updates Named list values validate","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"StateSchema R6 Class — StateSchema","text":"Invisible TRUE valid; aborts error","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"method-merge-","dir":"Reference","previous_headings":"","what":"Method merge()","title":"StateSchema R6 Class — StateSchema","text":"Merge updates current state using reducers","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"StateSchema R6 Class — StateSchema","text":"","code":"StateSchema$merge(current, updates)"},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"StateSchema R6 Class — StateSchema","text":"current Named list representing current state updates Named list updates","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"StateSchema R6 Class — StateSchema","text":"Merged state named list","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"method-field-names-","dir":"Reference","previous_headings":"","what":"Method field_names()","title":"StateSchema R6 Class — StateSchema","text":"Get field names defined schema","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"StateSchema R6 Class — StateSchema","text":"","code":"StateSchema$field_names()"},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"StateSchema R6 Class — StateSchema","text":"Character vector field names","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"StateSchema R6 Class — StateSchema","text":"objects class cloneable method.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"StateSchema R6 Class — StateSchema","text":"","code":"StateSchema$clone(deep = FALSE)"},{"path":"https://ian-flores.github.io/orchestr/reference/StateSchema.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"StateSchema R6 Class — StateSchema","text":"deep Whether make deep clone.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/approval_tool.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an approval tool for human-in-the-loop workflows — approval_tool","title":"Create an approval tool for human-in-the-loop workflows — approval_tool","text":"Returns ellmer::tool() definition prompts human approval via readline(). approved, returns \"approved\". rejected, calls ellmer::tool_reject() signal rejection LLM.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/approval_tool.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an approval tool for human-in-the-loop workflows — approval_tool","text":"","code":"approval_tool(prompt_fn = NULL)"},{"path":"https://ian-flores.github.io/orchestr/reference/approval_tool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an approval tool for human-in-the-loop workflows — approval_tool","text":"prompt_fn Optional function receives tool arguments returns character string display approval prompt. Defaults \"Approve action? (yes/): \".","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/approval_tool.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an approval tool for human-in-the-loop workflows — approval_tool","text":"ellmer tool definition human---loop approval.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/approval_tool.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an approval tool for human-in-the-loop workflows — approval_tool","text":"","code":"if (FALSE) { # \\dontrun{ tool <- approval_tool() chat <- ellmer::chat_openai(model = \"gpt-4o\") chat$register_tool(tool) } # }"},{"path":"https://ian-flores.github.io/orchestr/reference/as_mermaid.html","id":null,"dir":"Reference","previous_headings":"","what":"Render an agent graph as a Mermaid diagram — as_mermaid","title":"Render an agent graph as a Mermaid diagram — as_mermaid","text":"Generates Mermaid flowchart string AgentGraph object. Useful documentation debugging.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/as_mermaid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Render an agent graph as a Mermaid diagram — as_mermaid","text":"","code":"as_mermaid(graph)"},{"path":"https://ian-flores.github.io/orchestr/reference/as_mermaid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Render an agent graph as a Mermaid diagram — as_mermaid","text":"graph AgentGraph object $get_nodes() $get_edges() methods.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/as_mermaid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Render an agent graph as a Mermaid diagram — as_mermaid","text":"character string containing Mermaid diagram definition.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/as_mermaid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Render an agent graph as a Mermaid diagram — as_mermaid","text":"","code":"g <- graph_builder() g$add_node(\"a\", function(state, config) list()) g$add_edge(\"a\", \"__end__\") g$set_entry_point(\"a\") graph <- g$compile() cat(as_mermaid(graph)) #> graph TD #>     a[\"a\"] #>     a --> END"},{"path":"https://ian-flores.github.io/orchestr/reference/as_node.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert an Agent to a graph node handler function — as_node","title":"Convert an Agent to a graph node handler function — as_node","text":"Convert Agent graph node handler function","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/as_node.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert an Agent to a graph node handler function — as_node","text":"","code":"as_node(agent, input_key = \"messages\", output_key = \"messages\")"},{"path":"https://ian-flores.github.io/orchestr/reference/as_node.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert an Agent to a graph node handler function — as_node","text":"agent Agent object. input_key State key containing input prompt (default \"messages\"). output_key State key response (default \"messages\").","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/as_node.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert an Agent to a graph node handler function — as_node","text":"function suitable use graph node handler.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/as_node.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert an Agent to a graph node handler function — as_node","text":"","code":"if (FALSE) { # \\dontrun{ chat <- ellmer::chat_openai(model = \"gpt-4o\") a <- agent(\"helper\", chat) handler <- as_node(a) } # }"},{"path":"https://ian-flores.github.io/orchestr/reference/checkpointer.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a workflow checkpointer — checkpointer","title":"Create a workflow checkpointer — checkpointer","text":"Persists graph execution state workflows can resumed.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/checkpointer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a workflow checkpointer — checkpointer","text":"","code":"checkpointer(backend = c(\"memory\", \"file\"), path = NULL)"},{"path":"https://ian-flores.github.io/orchestr/reference/checkpointer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a workflow checkpointer — checkpointer","text":"backend Either \"memory\" (-process) \"file\" (directory JSON files). path Directory path file backend.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/checkpointer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a workflow checkpointer — checkpointer","text":"Checkpointer R6 object.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/checkpointer.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a workflow checkpointer — checkpointer","text":"","code":"cp <- checkpointer() cp$save(\"thread-1\", \"node_a\", list(x = 1)) cp$load(\"thread-1\") #> $node #> [1] \"node_a\" #>  #> $state #> $state$x #> [1] 1 #>  #>"},{"path":"https://ian-flores.github.io/orchestr/reference/graph_builder.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a graph builder — graph_builder","title":"Create a graph builder — graph_builder","text":"Create graph builder","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/graph_builder.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a graph builder — graph_builder","text":"","code":"graph_builder(state_schema = NULL)"},{"path":"https://ian-flores.github.io/orchestr/reference/graph_builder.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a graph builder — graph_builder","text":"state_schema Optional StateSchema typed state reducers.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/graph_builder.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a graph builder — graph_builder","text":"GraphBuilder R6 object.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/graph_builder.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a graph builder — graph_builder","text":"","code":"g <- graph_builder() g$add_node(\"a\", function(state, config) list(x = 1)) g$add_edge(\"a\", END) g$set_entry_point(\"a\")"},{"path":"https://ian-flores.github.io/orchestr/reference/memory.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a key-value memory store — memory","title":"Create a key-value memory store — memory","text":"Create key-value memory store","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/memory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a key-value memory store — memory","text":"","code":"memory(backend = c(\"local\", \"file\"), path = NULL)"},{"path":"https://ian-flores.github.io/orchestr/reference/memory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a key-value memory store — memory","text":"backend Either \"local\" (-process list) \"file\" (JSON file). path File path file backend.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/memory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a key-value memory store — memory","text":"Memory R6 object.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/memory.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Create a key-value memory store — memory","text":"path parameter file backends trusted value. derive LLM output untrusted user input.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/memory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a key-value memory store — memory","text":"","code":"mem <- memory() mem$set(\"foo\", 42) mem$get(\"foo\") #> [1] 42"},{"path":"https://ian-flores.github.io/orchestr/reference/merge_state_plain.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge state without a schema — merge_state_plain","title":"Merge state without a schema — merge_state_plain","text":"Shallow overwrite merge schema-less state. key updates replaces corresponding key current.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/merge_state_plain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge state without a schema — merge_state_plain","text":"","code":"merge_state_plain(current, updates)"},{"path":"https://ian-flores.github.io/orchestr/reference/merge_state_plain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge state without a schema — merge_state_plain","text":"current Named list current state updates Named list updates","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/merge_state_plain.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge state without a schema — merge_state_plain","text":"Merged named list","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/new_interrupt.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an agent graph interrupt condition — new_interrupt","title":"Create an agent graph interrupt condition — new_interrupt","text":"Creates condition class agentgraph_interrupt can signalled pause graph execution human review.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/new_interrupt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an agent graph interrupt condition — new_interrupt","text":"","code":"new_interrupt(state, node, step)"},{"path":"https://ian-flores.github.io/orchestr/reference/new_interrupt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an agent graph interrupt condition — new_interrupt","text":"state current graph state point interruption. node Character scalar. node triggered interrupt. step Integer. execution step number.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/new_interrupt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an agent graph interrupt condition — new_interrupt","text":"agentgraph_interrupt condition object.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/new_interrupt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an agent graph interrupt condition — new_interrupt","text":"","code":"cnd <- new_interrupt(list(x = 1), \"review_node\", 3L) cnd$node #> [1] \"review_node\" cnd$step #> [1] 3"},{"path":"https://ian-flores.github.io/orchestr/reference/new_state_snapshot.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a state snapshot — new_state_snapshot","title":"Create a state snapshot — new_state_snapshot","text":"Records state particular node step graph execution.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/new_state_snapshot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a state snapshot — new_state_snapshot","text":"","code":"new_state_snapshot(state, node, step)"},{"path":"https://ian-flores.github.io/orchestr/reference/new_state_snapshot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a state snapshot — new_state_snapshot","text":"state Named list current state node Character string naming node step Integer step number","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/new_state_snapshot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a state snapshot — new_state_snapshot","text":"state_snapshot S3 object.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/orchestr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"orchestr: Graph-Based Agent Orchestration for R — orchestr-package","title":"orchestr: Graph-Based Agent Orchestration for R — orchestr-package","text":"Graph-based multi-agent workflow orchestration built 'ellmer' LLM chat optional 'securer' sandboxed code execution. Provides fluent API constructing agent graphs typed state, conditional routing, human---loop interrupts, memory, checkpointing. Convenience constructors cover common patterns: ReAct loops, sequential pipelines, supervisor routing.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/orchestr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"orchestr: Graph-Based Agent Orchestration for R — orchestr-package","text":"Maintainer: Ian Flores Siaca ian.flores.siaca@gmail.com","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/pipeline_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a sequential pipeline graph — pipeline_graph","title":"Create a sequential pipeline graph — pipeline_graph","text":"Chains agents order: agent1 -> agent2 -> ... -> END.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/pipeline_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a sequential pipeline graph — pipeline_graph","text":"","code":"pipeline_graph(..., max_iterations = 100L)"},{"path":"https://ian-flores.github.io/orchestr/reference/pipeline_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a sequential pipeline graph — pipeline_graph","text":"... Agent objects, execution order. unnamed, node names auto-generated \"step_1\", \"step_2\", etc. max_iterations Integer safety cap (default 100).","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/pipeline_graph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a sequential pipeline graph — pipeline_graph","text":"compiled AgentGraph object.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/pipeline_graph.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a sequential pipeline graph — pipeline_graph","text":"","code":"if (FALSE) { # \\dontrun{ chat1 <- ellmer::chat_openai(model = \"gpt-4o\") chat2 <- ellmer::chat_openai(model = \"gpt-4o\") graph <- pipeline_graph(agent(\"drafter\", chat1), agent(\"reviewer\", chat2)) graph$invoke(list(messages = list(\"Write a poem\"))) } # }"},{"path":"https://ian-flores.github.io/orchestr/reference/react_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a ReAct (Reasoning + Acting) agent graph — react_graph","title":"Create a ReAct (Reasoning + Acting) agent graph — react_graph","text":"Builds single-agent graph state management checkpointing. Tool calling handled internally ellmer's Chat class $chat(), separate tool dispatch node needed.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/react_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a ReAct (Reasoning + Acting) agent graph — react_graph","text":"","code":"react_graph(agent, max_iterations = 10L)"},{"path":"https://ian-flores.github.io/orchestr/reference/react_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a ReAct (Reasoning + Acting) agent graph — react_graph","text":"agent Agent object. max_iterations Integer safety cap.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/react_graph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a ReAct (Reasoning + Acting) agent graph — react_graph","text":"compiled AgentGraph object.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/react_graph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a ReAct (Reasoning + Acting) agent graph — react_graph","text":"Tools registered agent construction time via agent(tools = ...) rather passed .","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/react_graph.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a ReAct (Reasoning + Acting) agent graph — react_graph","text":"","code":"if (FALSE) { # \\dontrun{ chat <- ellmer::chat_openai(model = \"gpt-4o\") a <- agent(\"assistant\", chat) graph <- react_graph(a) graph$invoke(list(messages = list(\"Hello\"))) } # }"},{"path":"https://ian-flores.github.io/orchestr/reference/route_to.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a constant router — route_to","title":"Create a constant router — route_to","text":"Returns condition function always routes given node name.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/route_to.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a constant router — route_to","text":"","code":"route_to(node_name)"},{"path":"https://ian-flores.github.io/orchestr/reference/route_to.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a constant router — route_to","text":"node_name Character node name route .","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/route_to.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a constant router — route_to","text":"function always returns given node name.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/route_to.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a constant router — route_to","text":"","code":"router <- route_to(\"next_node\") router(list()) #> [1] \"next_node\""},{"path":"https://ian-flores.github.io/orchestr/reference/route_tool_calls.html","id":null,"dir":"Reference","previous_headings":"","what":"Route based on pending tool calls — route_tool_calls","title":"Route based on pending tool calls — route_tool_calls","text":"Returns \"tools\" state pending tool calls, \"end\" otherwise.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/route_tool_calls.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Route based on pending tool calls — route_tool_calls","text":"","code":"route_tool_calls(state)"},{"path":"https://ian-flores.github.io/orchestr/reference/route_tool_calls.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Route based on pending tool calls — route_tool_calls","text":"state Current graph state.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/route_tool_calls.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Route based on pending tool calls — route_tool_calls","text":"Character string: either tool node name END.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/route_tool_calls.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Route based on pending tool calls — route_tool_calls","text":"functions manual tool dispatch custom node handlers. using Agent objects ellmer, tool calling handled internally ellmer's Chat class. See react_graph recommended pattern.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/route_tool_calls.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Route based on pending tool calls — route_tool_calls","text":"","code":"route_tool_calls(list(pending_tool_calls = list())) #> [1] \"end\" route_tool_calls(list(pending_tool_calls = list(list(name = \"add\")))) #> [1] \"tools\""},{"path":"https://ian-flores.github.io/orchestr/reference/state_schema.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a typed state schema — state_schema","title":"Create a typed state schema — state_schema","text":"Defines fields types/reducers graph state. Field specs strings: \"logical\", \"numeric\", \"character\", \"list\", \"\", \"append:list\" append reducer.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/state_schema.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a typed state schema — state_schema","text":"","code":"state_schema(..., .max_append = Inf)"},{"path":"https://ian-flores.github.io/orchestr/reference/state_schema.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a typed state schema — state_schema","text":"... Named field specifications (e.g., messages = \"append:list\", done = \"logical\"). .max_append Maximum number items retain append reducers. Defaults Inf (limit). limit exceeded, recent items kept.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/state_schema.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a typed state schema — state_schema","text":"StateSchema R6 object.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/state_schema.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a typed state schema — state_schema","text":"","code":"schema <- state_schema(messages = \"append:list\", done = \"logical\") schema$validate(list(done = TRUE)) schema$merge(list(messages = list(\"a\")), list(messages = list(\"b\"))) #> $messages #> $messages[[1]] #> [1] \"a\" #>  #> $messages[[2]] #> [1] \"b\" #>  #>"},{"path":"https://ian-flores.github.io/orchestr/reference/supervisor_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a supervisor graph that routes to workers — supervisor_graph","title":"Create a supervisor graph that routes to workers — supervisor_graph","text":"supervisor agent decides worker invoke based response. worker's response fed back supervisor re-evaluation.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/supervisor_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a supervisor graph that routes to workers — supervisor_graph","text":"","code":"supervisor_graph(supervisor, workers, max_iterations = 50L)"},{"path":"https://ian-flores.github.io/orchestr/reference/supervisor_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a supervisor graph that routes to workers — supervisor_graph","text":"supervisor Agent object decides routing. system prompt suffix route tool automatically injected. workers Named list Agent objects. max_iterations Integer safety cap (default 50).","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/supervisor_graph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a supervisor graph that routes to workers — supervisor_graph","text":"compiled AgentGraph object.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/supervisor_graph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a supervisor graph that routes to workers — supervisor_graph","text":"supervisor node sets state$next_worker via routing tool supervisor calls. routing condition reads field dispatch correct worker, end graph supervisor calls route(\"FINISH\").","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/supervisor_graph.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a supervisor graph that routes to workers — supervisor_graph","text":"","code":"if (FALSE) { # \\dontrun{ sup <- agent(\"boss\", ellmer::chat_openai(model = \"gpt-4o\")) w1 <- agent(\"coder\", ellmer::chat_openai(model = \"gpt-4o\")) w2 <- agent(\"tester\", ellmer::chat_openai(model = \"gpt-4o\")) graph <- supervisor_graph(sup, list(coder = w1, tester = w2)) } # }"},{"path":"https://ian-flores.github.io/orchestr/reference/tool_node.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a tool execution node — tool_node","title":"Create a tool execution node — tool_node","text":"Returns handler function processes pending tool calls state.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/tool_node.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a tool execution node — tool_node","text":"","code":"tool_node(tools)"},{"path":"https://ian-flores.github.io/orchestr/reference/tool_node.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a tool execution node — tool_node","text":"tools Named list tool functions keyed tool name.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/tool_node.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a tool execution node — tool_node","text":"function suitable use graph node handler.","code":""},{"path":"https://ian-flores.github.io/orchestr/reference/tool_node.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Create a tool execution node — tool_node","text":"functions manual tool dispatch custom node handlers. using Agent objects ellmer, tool calling handled internally ellmer's Chat class. See react_graph recommended pattern.","code":""},{"path":[]},{"path":"https://ian-flores.github.io/orchestr/reference/tool_node.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a tool execution node — tool_node","text":"","code":"if (FALSE) { # \\dontrun{ tools <- list(add = function(a, b) a + b) handler <- tool_node(tools) } # }"}]
